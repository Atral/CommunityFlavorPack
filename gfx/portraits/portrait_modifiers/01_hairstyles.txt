@baby_hair_age = 5
@african_clothing_no_hair_chance = 6.5

hairstyles = {

    usage = game

	baby_hair = {
        dna_modifiers = {
            accessory = {
                mode = replace
                gene = hairstyles
                template = western_baby_hairstyles
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 100
                age < @baby_hair_age
                NOT = { portrait_african_clothing_trigger = yes } # Should be replaced with a has_gene trigger when we get that
            }
        }
    }

    baby_hair_sub_saharan = {
        dna_modifiers = {
            accessory = {
                mode = replace
                gene = hairstyles
                template = sub_saharan_baby_hairstyles
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 100
                age < @baby_hair_age
                portrait_african_clothing_trigger = yes # Should be replaced with a has_gene trigger when we get that
            }
        }
    }

    no_hair = { # This is to give a random chance of a clean shaven look
        dna_modifiers = {
            accessory = {
                mode = replace
                gene = hairstyles
                template = no_hairstyles
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = -100
                age < @baby_hair_age
            }
            modifier = {
                add = -100
                OR = {
                    is_from_ruler_designer = yes
                    has_character_flag = has_scripted_appearance
                }
            }
            # Different likelyhood of a clean shaven look in different cultures
            modifier = {
                add = @african_clothing_no_hair_chance
                portrait_african_clothing_trigger = yes
            }
            modifier = {
                add = 101
				OR = {
					religion = religion:buddhism_religion
				}
				AND ={
					OR = {
						is_theocratic_lessee = yes
						AND = { is_ruler = yes has_government = theocracy_government }
						has_trait = devoted
					}
				}
            }
        }
    }

    default_hair = {
        weight = {
            base = 0
            modifier = {
                add = 100
                age >= @baby_hair_age
            }
            # This can't be always 100 otherwise it will get insta picked, so we subtract the no hair chance off to weight it properly
            modifier = {
                add = {
                    subtract = @african_clothing_no_hair_chance
                }
                portrait_african_clothing_trigger = yes
            }
        }
    }
	
    catholic_devoted_hairstyles = {
        dna_modifiers = {
            accessory = {
                mode = replace
                gene = hairstyles
                template = catholic_devoted_hairstyles
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 101
				OR = {
					religion = religion:christianity_religion
				}
				NOT = {
					faith.religious_head = this
				}
				AND ={
					OR = {
						is_theocratic_lessee = yes
						AND = { is_ruler = yes has_government = theocracy_government }
						has_trait = devoted
					}
				}
            }
        }
    }
	
    western_aging_hairstyles = {
        dna_modifiers = {
            accessory = {
                mode = replace
                gene = hairstyles
                template = western_aging_hairstyles
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 101
				is_male = yes
				NOT = { has_game_rule = never_cfp_baldtrait }
				NOR = {
					portrait_african_clothing_trigger = yes
					portrait_indian_clothing_trigger = yes
					portrait_steppe_clothing_trigger = yes
				}
				OR = {
					AND = {
						age >= 35
						has_two_stress_coping_traits_trigger = yes
					}
					AND = {
						age >= 45
						has_a_stress_coping_trait_trigger = yes
					}
					AND = {
						age >= 35
						has_trait = beauty_bad_3
					}
					AND = {
						age >= 40
						has_trait = beauty_bad_2
					}
					AND = {
						age >= 45
						has_trait = beauty_bad_1
					}
				}
            }
        }
    }

    slavic_hairstyles = {
        dna_modifiers = {
            accessory = {
                mode = replace
                gene = hairstyles
                template = slavic_hairstyles
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = {
                    subtract = 100
                }
                age < @baby_hair_age
            }
            modifier = {
                add = 100
				AND = {
					is_male = yes
					OR = {
						has_trait = education_martial_1
						has_trait = education_martial_2
						has_trait = education_martial_3
						has_trait = education_martial_4
					}
					OR = {
						portrait_slavic_clothing_trigger = yes
						portrait_hungarian_clothing_trigger = yes
					}
				}
            }
        }
    }

}